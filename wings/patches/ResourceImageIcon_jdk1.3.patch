--- ResourceImageIcon.java      2002/05/07 15:08:09     1.8.2.14
+++ ResourceImageIcon.java      2002/03/22 10:59:55     1.8.2.12
@@ -14,14 +14,12 @@
 
 package org.wings;
 
-import java.awt.image.BufferedImage;
-import java.io.ByteArrayInputStream;
+import java.awt.Image;
 import java.io.IOException;
 import java.io.InputStream;
 import java.io.OutputStream;
 
 import javax.swing.ImageIcon;
-import javax.imageio.ImageIO;
 
 import org.wings.session.SessionManager;
 import org.wings.externalizer.ExternalizeManager;
@@ -86,10 +84,9 @@
             bufferResource();
             
             if ( buffer!=null && buffer.isValid()) {
-                BufferedImage image = 
-                    ImageIO.read(new ByteArrayInputStream(buffer.getBytes()));
-                width = image.getWidth();
-                height = image.getHeight();
+                ImageIcon icon = new ImageIcon(buffer.getBytes());
+                width  = icon.getIconWidth();
+                height = icon.getIconHeight();
             }
         } catch ( Throwable e ) {
             // is not possible to calc Dimensions
